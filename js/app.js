var app={};app.EtsyApi=function(e){if(!e.apiKey)throw new Error("An API key is required!");var o="https://openapi.etsy.com/"+(e.apiVersion||"v2"),t={listings:function(){var t=o+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",n=$.Deferred(),a=$.getJSON(t).done(function(e){e.ok?n.resolve(e):n.reject(a,"Unknown error",e)});return n},userDetail:function(){}};return t},app.etsyPage=function(){var e=app.EtsyApi({apiKey:"jgeqmbakgybo48lww24232km"}),o=_.template($("#etsyList").html(),{variable:"m"});e.listings().done(function(e){console.log(e),$(".main-content").html(o({items:e.results}))}).fail(function(e,o,t){console.log(t),$(".main-content").text(t.error)})},app.moveItemPage=function(){$(".draggable-item").mousedown(function(e){function o(e){n.css({top:e.pageY-r,left:e.pageX-i})}function t(){$("body").off("mousemove",o),$("body").off("mouseup",t)}var n=$(this),a=n.position(),i=e.pageX-a.left,r=e.pageY-a.top;$("body").on("mousemove",o),$("body").on("mouseup",t)})},app.moveSnapPage=function(){var e=20;$(".draggable-item").mousedown(function(o){function t(o){a.css({top:Math.floor((o.pageY-s)/e)*e,left:Math.floor((o.pageX-r)/e)*e})}function n(){$("body").off("mousemove",t),$("body").off("mouseup",n)}var a=$(this),i=a.position(),r=o.pageX-i.left,s=o.pageY-i.top;$("body").on("mousemove",t),$("body").on("mouseup",n)})},app.reorderItemsPage=function(){$(".reorderable-list-item").mousedown(function(){function e(e){return e.preventDefault(),!1}function o(e){var o=i.prev().offset();return o&&o.top>e}function t(e){var o=i.next(),t=o.offset();return t&&t.top+o.height()<e}function n(e){return o(e.pageY)?i.insertBefore(i.prev()):t(e.pageY)&&i.insertAfter(i.next()),!1}function a(){i.removeClass("reordering-list-item"),$("body").off("mouseup",a),$("body").off("mousemove",n),$(document).off("selectstart dragstart",e)}var i=$(this);i.addClass("reordering-list-item"),$(document).on("selectstart dragstart",e),$("body").on("mouseup",a),$("body").on("mousemove",n)})},app.routingPage=function(){function e(){$.get("views/users.html").done(function(e){$(".main-content").html(e)})}function o(e){$.get("views/user.html").done(function(o){var t=_.template(o,{variable:"m"});$(".main-content").html(t({name:e}))})}function t(){var e=location.hash||"#";n.run(e.slice(1))}var n=Rlite();n.add("",e),n.add("users",e),n.add("users/:name",function(e){o(e.params.name)}),window.addEventListener("hashchange",t),t()},$(function(){var e=$("body").data("page");app[e]()});
//# sourceMappingURL=app.js.map